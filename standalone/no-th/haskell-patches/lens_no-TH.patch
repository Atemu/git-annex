From 88ff2174944daf90530a33ee06e2e3f667089b6a Mon Sep 17 00:00:00 2001
From: dummy <dummy@example.com>
Date: Fri, 3 Jul 2015 02:06:43 +0000
Subject: [PATCH] remove TH

---
 lens.cabal                          | 16 +---------------
 src/Control/Lens.hs                 |  6 ++----
 src/Control/Lens/Cons.hs            |  2 --
 src/Control/Lens/Internal/Fold.hs   |  2 --
 src/Control/Lens/Operators.hs       |  2 +-
 src/Control/Lens/Prism.hs           |  2 --
 src/Control/Monad/Primitive/Lens.hs |  1 -
 7 files changed, 4 insertions(+), 27 deletions(-)

diff --git a/lens.cabal b/lens.cabal
index c7f6009..ab206c5 100644
--- a/lens.cabal
+++ b/lens.cabal
@@ -10,7 +10,7 @@ stability:     provisional
 homepage:      http://github.com/ekmett/lens/
 bug-reports:   http://github.com/ekmett/lens/issues
 copyright:     Copyright (C) 2012-2014 Edward A. Kmett
-build-type:    Custom
+build-type:    Simple
 -- build-tools:   cpphs
 tested-with:   GHC == 7.4.1, GHC == 7.4.2, GHC == 7.6.3, GHC == 7.8.1, GHC == 7.8.2
 synopsis:      Lenses, Folds and Traversals
@@ -230,8 +230,6 @@ library
     Control.Lens.Internal.Context
     Control.Lens.Internal.Deque
     Control.Lens.Internal.Exception
-    Control.Lens.Internal.FieldTH
-    Control.Lens.Internal.PrismTH
     Control.Lens.Internal.Fold
     Control.Lens.Internal.Getter
     Control.Lens.Internal.Indexed
@@ -243,25 +241,21 @@ library
     Control.Lens.Internal.Reflection
     Control.Lens.Internal.Review
     Control.Lens.Internal.Setter
-    Control.Lens.Internal.TH
     Control.Lens.Internal.Zoom
     Control.Lens.Iso
     Control.Lens.Lens
     Control.Lens.Level
     Control.Lens.Loupe
     Control.Lens.Operators
-    Control.Lens.Plated
     Control.Lens.Prism
     Control.Lens.Reified
     Control.Lens.Review
     Control.Lens.Setter
-    Control.Lens.TH
     Control.Lens.Traversal
     Control.Lens.Tuple
     Control.Lens.Type
     Control.Lens.Wrapped
     Control.Lens.Zoom
-    Control.Monad.Error.Lens
     Control.Monad.Primitive.Lens
     Control.Parallel.Strategies.Lens
     Control.Seq.Lens
@@ -287,12 +281,8 @@ library
     Data.Typeable.Lens
     Data.Vector.Lens
     Data.Vector.Generic.Lens
-    Generics.Deriving.Lens
-    GHC.Generics.Lens
     System.Exit.Lens
     System.FilePath.Lens
-    System.IO.Error.Lens
-    Language.Haskell.TH.Lens
     Numeric.Lens
 
   other-modules:
@@ -395,7 +385,6 @@ test-suite doctests
       deepseq,
       doctest        >= 0.9.1,
       filepath,
-      generic-deriving,
       mtl,
       nats,
       parallel,
@@ -433,7 +422,6 @@ benchmark plated
     comonad,
     criterion,
     deepseq,
-    generic-deriving,
     lens,
     transformers
 
@@ -468,7 +456,6 @@ benchmark unsafe
     comonads-fd,
     criterion,
     deepseq,
-    generic-deriving,
     lens,
     transformers
 
@@ -485,6 +472,5 @@ benchmark zipper
     comonads-fd,
     criterion,
     deepseq,
-    generic-deriving,
     lens,
     transformers
diff --git a/src/Control/Lens.hs b/src/Control/Lens.hs
index d879c58..3d6015b 100644
--- a/src/Control/Lens.hs
+++ b/src/Control/Lens.hs
@@ -56,12 +56,11 @@ module Control.Lens
   , module Control.Lens.Lens
   , module Control.Lens.Level
   , module Control.Lens.Loupe
-  , module Control.Lens.Plated
   , module Control.Lens.Prism
   , module Control.Lens.Reified
   , module Control.Lens.Review
   , module Control.Lens.Setter
-#ifndef DISABLE_TEMPLATE_HASKELL
+#if 0
   , module Control.Lens.TH
 #endif
   , module Control.Lens.Traversal
@@ -83,12 +82,11 @@ import Control.Lens.Iso
 import Control.Lens.Lens
 import Control.Lens.Level
 import Control.Lens.Loupe
-import Control.Lens.Plated
 import Control.Lens.Prism
 import Control.Lens.Reified
 import Control.Lens.Review
 import Control.Lens.Setter
-#ifndef DISABLE_TEMPLATE_HASKELL
+#if 0
 import Control.Lens.TH
 #endif
 import Control.Lens.Traversal
diff --git a/src/Control/Lens/Cons.hs b/src/Control/Lens/Cons.hs
index 7b35db4..269f307 100644
--- a/src/Control/Lens/Cons.hs
+++ b/src/Control/Lens/Cons.hs
@@ -56,8 +56,6 @@ import qualified Data.Vector.Unboxed as Unbox
 import           Data.Word
 import           Prelude
 
-{-# ANN module "HLint: ignore Eta reduce" #-}
-
 -- $setup
 -- >>> :set -XNoOverloadedStrings
 -- >>> import Control.Lens
diff --git a/src/Control/Lens/Internal/Fold.hs b/src/Control/Lens/Internal/Fold.hs
index 4bbde21..16295f4 100644
--- a/src/Control/Lens/Internal/Fold.hs
+++ b/src/Control/Lens/Internal/Fold.hs
@@ -35,8 +35,6 @@ import Data.Semigroup hiding (Min, getMin, Max, getMax)
 import Data.Reflection
 import Prelude
 
-{-# ANN module "HLint: ignore Avoid lambda" #-}
-
 ------------------------------------------------------------------------------
 -- Folding
 ------------------------------------------------------------------------------
diff --git a/src/Control/Lens/Operators.hs b/src/Control/Lens/Operators.hs
index 302f68e..1625fe5 100644
--- a/src/Control/Lens/Operators.hs
+++ b/src/Control/Lens/Operators.hs
@@ -104,7 +104,7 @@ module Control.Lens.Operators
   , (<#~)
   , (<#=)
   -- * "Control.Lens.Plated"
-  , (...)
+  --, (...)
   -- * "Control.Lens.Review"
   , ( # )
   -- * "Control.Lens.Setter"
diff --git a/src/Control/Lens/Prism.hs b/src/Control/Lens/Prism.hs
index 36152d6..3af6bd3 100644
--- a/src/Control/Lens/Prism.hs
+++ b/src/Control/Lens/Prism.hs
@@ -62,8 +62,6 @@ import Data.Profunctor.Unsafe
 #endif
 import Prelude
 
-{-# ANN module "HLint: ignore Use camelCase" #-}
-
 -- $setup
 -- >>> :set -XNoOverloadedStrings
 -- >>> import Control.Lens
diff --git a/src/Control/Monad/Primitive/Lens.hs b/src/Control/Monad/Primitive/Lens.hs
index 8f1ec94..482764a 100644
--- a/src/Control/Monad/Primitive/Lens.hs
+++ b/src/Control/Monad/Primitive/Lens.hs
@@ -26,7 +26,6 @@ import Control.Lens
 import Control.Monad.Primitive
 import GHC.Prim (State#)
 
-{-# ANN module "HLint: ignore Unused LANGUAGE pragma" #-}
 
 #if MIN_VERSION_primitive(0,6,0)
 prim :: PrimBase m => Iso' (m a) (State# (PrimState m) -> (# State# (PrimState m), a #))
-- 
2.1.4

