[[!comment format=mdwn
 username="Ilya_Shlyakhter"
 avatar="http://cdn.libravatar.org/avatar/1647044369aa7747829c38b9dcc84df0"
 subject="can git-annex-pre-commit annex files?"
 date="2019-10-15T19:15:41Z"
 content="""
Re: [[concerns|forum/lets_discuss_git_add_behavior/#comment-cb55e3813bed92ceb6d84092841903e3]] about `git add` not annexing files:

>Oops, now you've added to git a large file that you wanted to be annexed

>you would surely hope that the annexed ones stay annexed and don't get committed directly to git

Could [[`git-annex-pre-commit`|git-annex-pre-commit]] annex the file if it matches `annex.largefiles`?  (Since it already changes the index, to fix up the symlinks into annex).  Could it be configured to annex the file as locked?


"""]]
